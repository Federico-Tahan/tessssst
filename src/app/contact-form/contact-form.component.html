<section class="contact-section">
    <div class="container">
        <div class="contact-header">
            <h2 class="section-title">¿Necesitás más información?</h2>
            <p class="section-subtitle">Completá el formulario y nuestro equipo se pondrá en contacto con vos</p>
        </div>

        <div class="contact-content">
            <div class="form-card">
                <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form" *ngIf="!showSuccess">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="nombre" class="form-label">
                                <i class="fas fa-user"></i>
                                Nombre completo
                            </label>
                            <input type="text" id="nombre" formControlName="nombre" class="form-input" 
                                [class.error]="isFieldInvalid('nombre')" placeholder="Tu nombre y apellido">
                            <div class="error-message" [class.show]="isFieldInvalid('nombre')">
                                El nombre es requerido
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="email" class="form-label">
                                <i class="fas fa-envelope"></i>
                                Email
                            </label>
                            <input type="email" id="email" formControlName="email" class="form-input" 
                                [class.error]="isFieldInvalid('email')" placeholder="tu@email.com">
                            <div class="error-message" [class.show]="isFieldInvalid('email')">
                                Ingresá un email válido
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="telefono" class="form-label">
                                <i class="fas fa-phone"></i>
                                Teléfono
                            </label>
                            <input type="tel" id="telefono" formControlName="telefono" class="form-input" 
                                [class.error]="isFieldInvalid('telefono')" placeholder="+54 9 351 123-4567">
                            <div class="error-message" [class.show]="isFieldInvalid('telefono')">
                                El teléfono es requerido
                            </div>
                        </div>

                        <div class="form-group full-width">
                            <label for="mensaje" class="form-label">
                                <i class="fas fa-comment-alt"></i>
                                Mensaje
                            </label>
                            <textarea id="mensaje" formControlName="mensaje" class="form-textarea" 
                                [class.error]="isFieldInvalid('mensaje')"
                                placeholder="Contanos sobre tu proyecto, cantidad de máquinas necesarias, ubicación, etc." 
                                rows="5"></textarea>
                            <div class="error-message" [class.show]="isFieldInvalid('mensaje')">
                                El mensaje es requerido
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="submit-btn" [disabled]="isSubmitting">
                                <i class="fas" [ngClass]="isSubmitting ? 'fa-spinner' : 'fa-paper-plane'"></i>
                                {{ isSubmitting ? 'Enviando...' : 'Enviar consulta' }}
                            </button>
                        </div>
                    </div>
                </form>

                <div class="success-message" [class.show]="showSuccess">
                    <div class="success-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h3>¡Consulta enviada exitosamente!</h3>
                    <p>Nuestro equipo se pondrá en contacto con vos en las próximas 24 horas.</p>
                    <button class="new-form-btn" (click)="resetForm()">
                        Nueva consulta
                    </button>
                </div>
            </div>

            <div class="info-cards">
                <div class="info-card">
                    <div class="info-icon">
                        <i class="fas fa-phone"></i>
                    </div>
                    <h4>Datos de contacto</h4>
                    <p>Teléfono: <span class="highlight"> +54 9 XXX XXX</span></p>
                    <p>Email: <span class="highlight"> vendify9&#64;gmail.com </span></p>
                </div>
                
                <div class="info-card-map">
                    <app-leaflet-map [options]="mapOptions"></app-leaflet-map>
                </div>
            </div>
        </div>
    </div>
</section>